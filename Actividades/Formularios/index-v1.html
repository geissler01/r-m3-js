<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

</head>

<body>
    <!-- <div class="container">
        <div class="justiy-content-center">
            <div class="col-3">
                <h3>Nombres</h3>
                <input id="names" type="text">
                <h3>Apellidos</h3>
                <input id="last-name" type="text">
            </div>
        </div>
    </div> -->

    <div class="container">
        <div class="row justify-content-center mt-4" style="gap: 50px;">
            <form class="col-lg-4 col-md-6 col-sm-10 card" style="padding: 1rem;">
                <div class="mb-3">
                    <label for="name" class="form-label">Nombre <span class="text-danger">*</span></label>
                    <input type="text" class="form-control " id="name" aria-describedby="emailHelp">
                    <!-- <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div> -->
                </div>
                <div class="mb-3">
                    <label for="last_name" class="form-label">Apellidos <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="last_name">
                </div>
                <!-- <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="exampleCheck1">
                    <label class="form-check-label" for="exampleCheck1">Check me out</label>
                </div> -->
                <button type="submit" class="btn btn-primary" id="save">Enviar</button>
            </form>

            <div class="table-log col-lg-7 col-md-10 col-sm-10">
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">Id</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Apellido</th>
                            <th scope="col">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- <tr>
                            <th scope="row">1</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td>@mdo</td>
                        </tr>
                        <tr>
                            <th scope="row">2</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td>@fat</td>
                        </tr>
                        <tr>
                            <th scope="row">3</th>
                            <td>John</td>
                            <td>Doe</td>
                            <td>@social</td>
                        </tr> -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


    <script>
        const save = document.getElementById('save');
        const tbody = document.querySelector("tbody");

        let id = 1; // contador de ID

        save.addEventListener("click", function (e) {
            e.preventDefault();

            const name = document.getElementById('name');
            const last_name = document.getElementById('last_name');

            // Validación
            if (name.value.trim() === "" || last_name.value.trim() === "") {
                Swal.fire({
                    title: "Error",
                    text: "Los campos no pueden estar vacíos",
                    icon: "error"
                });

                name.classList.add("is-invalid");
                last_name.classList.add("is-invalid");
                return;
            }

            // Quitar errores y marcar como válidos
            name.classList.remove("is-invalid");
            last_name.classList.remove("is-invalid");

            name.classList.add("is-valid");
            last_name.classList.add("is-valid");

            // Crear fila
            const tr = document.createElement("tr");

            tr.innerHTML = `
            <th scope="row">${id}</th>
            <td>${name.value}</td>
            <td>${last_name.value}</td>
            <td>
                <button class="btn btn-danger btn-sm btn-delete">Eliminar</button>
            </td>
        `;

            tbody.appendChild(tr);
            id++;

            // Limpiar inputs
            name.value = "";
            last_name.value = "";

            Swal.fire({
                title: "Éxito",
                text: "Registro agregado correctamente",
                icon: "success"
            });

            // ELIMINAR FILA
            tbody.addEventListener("click", function (e) {
                if (e.target.classList.contains("btn-delete")) {
                    const fila = e.target.closest("tr");
                    fila.remove();
                }
            });
        })
    </script>



</body>

</html>